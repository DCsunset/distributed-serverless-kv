syntax = "proto3";
package db;

message GetRequest {
    int64 SessionId = 1;
    repeated string Keys = 2;
    int64 Loc = 3;
}
message GetResponse {
    // Key-value pairs
    map<string, string> Data = 1;
}

message SetRequest {
    int64 SessionId = 1;
    // Key-value pairs
    map<string, string> Data = 2;
    // Its virtual location
    int64 VirtualLoc = 3;
    // Dependent location
    int64 Dep = 4;
    // Dependent virtual location
    int64 VirtualDep = 5;
}
message SetResponse {
    // Location of the changes
    int64 Loc = 1;
}

service DbService {
	rpc Get(GetRequest) returns (GetResponse) {}
	rpc Set(SetRequest) returns (SetResponse) {}
}
