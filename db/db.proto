syntax = "proto3";
package db;

message GetRequest {
    repeated string Keys = 1;
    int64 Loc = 2;
}
message GetResponse {
    // Key-value pairs
    map<string, string> Data = 1;
}

message SetRequest {
    // Key-value pairs
    map<string, string> Data = 1;
    // Its virtual location
    int64 VirtualLoc = 2;
    // Dependent location
    int64 Dep = 3;
    // Dependent virtual location
    int64 VirtualDep = 4;
}
message SetResponse {
    // Location of the changes
    int64 Location = 1;
}

service DbService {
	rpc Get(GetRequest) returns (GetResponse) {}
	rpc Set(SetRequest) returns (SetResponse) {}
}
